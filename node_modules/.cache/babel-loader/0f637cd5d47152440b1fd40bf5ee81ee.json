{"ast":null,"code":"import _toConsumableArray from\"/Users/parkerallan/Documents/finished projects/moviefinder-app/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _regeneratorRuntime from\"/Users/parkerallan/Documents/finished projects/moviefinder-app/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/parkerallan/Documents/finished projects/moviefinder-app/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/parkerallan/Documents/finished projects/moviefinder-app/movie-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'bootstrap/dist/css/bootstrap.min.css';import'./App.css';import MovieList from'./components/MovieList';import MovieListHeading from'./components/MovieListHeading';import SearchBox from'./components/SearchBox';import AddFavorites from'./components/AddFavorites';import RemoveFavorites from'./components/RemoveFavorites';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),movies=_useState2[0],setMovies=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),favorites=_useState6[0],setFavorites=_useState6[1];var getMovieRequest=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(searchValue){var url,response,responseJson;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url=\"https://www.omdbapi.com/?s=\".concat(searchValue,\"&apikey=a5d0c1fa\");_context.next=3;return fetch(url);case 3:response=_context.sent;_context.next=6;return response.json();case 6:responseJson=_context.sent;if(responseJson.Search){setMovies(responseJson.Search);}case 8:case\"end\":return _context.stop();}}},_callee);}));return function getMovieRequest(_x){return _ref.apply(this,arguments);};}();useEffect(function(){getMovieRequest(searchValue);},[searchValue]);useEffect(function(){var movieFavorites=JSON.parse(localStorage.getItem('movie-favorites'));setFavorites(movieFavorites);},[]);var saveToLocalStorage=function saveToLocalStorage(items){localStorage.setItem('movie-favorites',JSON.stringify(items));};var addFavoriteMovie=function addFavoriteMovie(movie){var newFavoriteList=[].concat(_toConsumableArray(favorites),[movie]);setFavorites(newFavoriteList);saveToLocalStorage(newFavoriteList);};var removeFavoriteMovie=function removeFavoriteMovie(movie){var newFavoriteList=favorites.filter(function(favorite){return favorite.imdbID!==movie.imdbID;});setFavorites(newFavoriteList);saveToLocalStorage(newFavoriteList);};return/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid movie-app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bg row d-flex align-items-center mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MovieListHeading,{heading:\"MovieFinder\"}),/*#__PURE__*/_jsx(SearchBox,{searchValue:searchValue,setSearchValue:setSearchValue})]}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:movies,handleFavoritesClick:addFavoriteMovie,favoriteComponent:AddFavorites})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg row d-flex align-items-center mt-4 mb-4\",children:/*#__PURE__*/_jsx(MovieListHeading,{heading:\"Favorites\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(MovieList,{movies:favorites,handleFavoritesClick:removeFavoriteMovie,favoriteComponent:RemoveFavorites})})]});};export default App;","map":{"version":3,"sources":["/Users/parkerallan/Documents/finished projects/moviefinder-app/movie-app/src/App.js"],"names":["React","useState","useEffect","MovieList","MovieListHeading","SearchBox","AddFavorites","RemoveFavorites","App","movies","setMovies","searchValue","setSearchValue","favorites","setFavorites","getMovieRequest","url","fetch","response","json","responseJson","Search","movieFavorites","JSON","parse","localStorage","getItem","saveToLocalStorage","items","setItem","stringify","addFavoriteMovie","movie","newFavoriteList","removeFavoriteMovie","filter","favorite","imdbID"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css'\nimport MovieList from './components/MovieList';\nimport MovieListHeading from './components/MovieListHeading';\nimport SearchBox from './components/SearchBox';\nimport AddFavorites from './components/AddFavorites';\nimport RemoveFavorites from './components/RemoveFavorites';\n\nconst App = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchValue, setSearchValue] = useState('');\n  const [favorites, setFavorites] = useState([])\n\n  const getMovieRequest = async (searchValue) => {\n    const url = `https://www.omdbapi.com/?s=${searchValue}&apikey=a5d0c1fa`;\n    const response = await fetch(url);\n    const responseJson = await response.json();\n\n    if (responseJson.Search) {\n      setMovies(responseJson.Search);\n    }\n  };\n\n  useEffect(() => {\n    getMovieRequest(searchValue);\n  }, [searchValue]);\n\n  useEffect (() => {\n    const movieFavorites = JSON.parse(\n      localStorage.getItem('movie-favorites')\n    )\n      setFavorites(movieFavorites)\n  }, [])\n\n  const saveToLocalStorage = (items) => {\n    localStorage.setItem('movie-favorites', JSON.stringify(items))\n  }\n\n  const addFavoriteMovie = (movie) => {\n    const newFavoriteList = [...favorites, movie]\n    setFavorites(newFavoriteList)\n    saveToLocalStorage(newFavoriteList)\n  }\n\n  const removeFavoriteMovie = (movie) => {\n    const newFavoriteList = favorites.filter(\n      (favorite) => favorite.imdbID !== movie.imdbID\n    )\n    setFavorites(newFavoriteList)\n    saveToLocalStorage(newFavoriteList)\n  }\n\n  return (\n    <div className='container-fluid movie-app'>\n      <div className='bg row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading \n        heading='MovieFinder' />\n        <SearchBox \n        searchValue={searchValue} \n        setSearchValue={setSearchValue} />\n      </div>\n      <div className='row'>\n        <MovieList \n        movies={movies} \n        handleFavoritesClick={addFavoriteMovie} \n        favoriteComponent={AddFavorites} />\n      </div>\n      <div className='bg row d-flex align-items-center mt-4 mb-4'>\n        <MovieListHeading\n        heading='Favorites' />\n      </div>\n      <div className='row'>\n        <MovieList\n        movies={favorites}\n        handleFavoritesClick={removeFavoriteMovie}\n        favoriteComponent={RemoveFavorites} />\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}